define("taoDelivery/controller/routes",[],function(){return{Compilation:{actions:{index:"controller/compilation/compiling"}}}}),define("taoDelivery/controller/compilation/compiling",["module","jquery","i18n","context","helpers","uiBootstrap"],function(e,t,n,i,o){function r(e,i){t("#initCompilation").hide(),t("#generatingProcess_info").show(),t("#generatingProcess_feedback").empty().hide(),t("#progressbar").empty(),t.ajax({type:"POST",url:o._url("compile","Compilation","taoDelivery"),dataType:"json",data:{uri:e,classUri:i},success:function(e){if(t("#generatingProcess_info").hide(),e.success)a(n("complete!"),"ok.png");else{if("undefined"!=typeof e.error)var i=e.error;else var i=n("Please select a valid result server in the delivery editing section then try again.<br/>(No valid wsdl contract found for the defined result server)");a(i,"failed.png")}}})}function a(e,o){t("<img/>").attr("src",i.root_url+"taoDelivery/views/img/"+o).appendTo(t("#progressbar")),t("#progressbar").append(e),t("#postCompilation").show(),t("#initCompilation").html(n("Recompile the delivery"))}return{start:function(){var n=e.config();t("#generatingProcess_info").hide(),t(".back").click(function(e){e.preventDefault(),o._load(o.getMainContainerSelector(),i.root_url+"taoDelivery/Delivery/editDelivery/",{uri:n.uri,classUri:n.classUri})}),t("#compiler").click(function(e){e.preventDefault(),r(n.uri,n.classUri)})}}}),define("iframeNotifier",["jquery"],function(){function e(e){return!(!window.__knownParent__||!e||e===window)}var t={parent:function(t,n){if(e(window.parent)&&window.parent.$){var i=window.parent.$;i(window.parent.document).trigger(t,n||[])}},top:function(t,n){if(e(window.top)&&window.top.$){var i=window.top.$;i(window.top.document).trigger(t,n||[])}}};return t}),define("jquery.sizechange",["jquery"],function(e){function t(){return window.MutationObserver||window.WebKitMutationObserver||!1}function n(){var e=document.createElement("p"),t=!1;if(e.addEventListener)e.addEventListener("DOMAttrModified",function(){t=!0},!1);else{if(!e.attachEvent)return!1;e.attachEvent("onDOMAttrModified",function(){t=!0})}return e.setAttribute("id","__dummy_domtest_target"),t}e.fn.sizeChange=function(i){var o=this,r=!1;if(i=i||e.noop(),0===o.length)return o;var a=function(){r===!1&&(r=!0,setTimeout(function(){i(),r=!1},1)),o.find("img").one("load",function(){i()})};if(t()){var s=window.MutationObserver||window.WebKitMutationObserver,u={subtree:"IFRAME"!==this[0].nodeName,attributes:!0},d=new s(function(e){for(var t in e)(null!==e[t].addedNodes||null!==e[t].attributeName)&&a()});o.each(function(){d.observe(this,u)})}else{if(!n())throw new Error("Event listening not supported");o.on("DOMAttrModified",function(e){"style"===e.attrName&&a()}),o.on("DOMNodeRemoved DOMNodeInserted DOMNodeInsertedIntoDocument DOMNodeRemovedFromDocument",function(e){1===e.target.nodeType&&a()})}return this}}),define("iframeResizer",["jquery","iframeNotifier","jquery.sizechange"],function(e,t){var n={autoHeight:function(t,n,i){var o=this;return n=n||"body",i=i||0,t.on("load",function(){var r=t.contents(),a=r.height(),s=!1,u=function(){s===!1&&(s=!0,setTimeout(function(){o._adaptHeight(t,a,i),s=!1},1))};o._adaptHeight(t,a);try{e(r[0].document).find("img"),r.find(n).sizeChange(function(){var e=r.height();e>a&&(a=e,u()),e>a&&(a=e,u())})}catch(d){setInterval(function(){var e=r.height();e>a&&(a=e,u())},10)}}),t},eventHeight:function(t,n){var i=this;(!n||parseInt(n,10)<10)&&(n=10),t.on("load.eventHeight",function(){var e=parseInt(t.contents().height(),10)-parseInt(t.height(),10);e>n&&(n=e),i._adaptHeight(t,t.contents().height()+n)}),e(document).on("heightchange",function(e,o,r){r=r||0,i._adaptHeight(t,o+r+n)})},_notifyParent:function(e,n){t.parent("heightchange",[e,n||0])},_adaptHeight:function(e,t,n){e.height(t),this._notifyParent(t,n)}};return n}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("spin",t):e.Spinner=t()}(this,function(){function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),r=.01+100*(n/i),a=Math.max(1-(1-e)/t*(100-r),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return f[o]||(p.insertRule("@"+u+"keyframes "+o+"{"+"0%{opacity:"+a+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+a+"}"+"}",p.cssRules.length),f[o]=1),o}function i(e,t){var n,i,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<l.length;i++)if(n=l[i]+t,void 0!==o[n])return n;return void 0!==o[t]?t:void 0}function o(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function a(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function u(e){return"undefined"==typeof this?new u(e):(this.opts=r(e||{},u.defaults,h),void 0)}function d(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(e,i){function r(){return o(n("group",{coordsize:c+" "+c,coordorigin:-d+" "+-d}),{width:c,height:c})}function a(e,a,u){t(f,t(o(r(),{rotation:360/i.lines*e+"deg",left:~~a}),t(o(n("roundrect",{arcsize:i.corners}),{width:d,height:i.width,left:i.radius,top:-i.width>>1,filter:u}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var u,d=i.length+i.width,c=2*d,l=2*-(i.width+i.length)+"px",f=o(r(),{position:"absolute",top:l,left:l});if(i.shadow)for(u=1;u<=i.lines;u++)a(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=i.lines;u++)a(u);return t(e,f)},u.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var c,l=["webkit","Moz","ms","O"],f={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={},r(u.prototype,{spin:function(t){this.stop();var n,i,r=this,s=r.opts,u=r.el=o(e(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),d=s.radius+s.length+s.width;if(t&&(t.insertBefore(u,t.firstChild||null),i=a(t),n=a(u),o(u,{left:("auto"==s.left?i.x-n.x+(t.offsetWidth>>1):parseInt(s.left,10)+d)+"px",top:("auto"==s.top?i.y-n.y+(t.offsetHeight>>1):parseInt(s.top,10)+d)+"px"})),u.setAttribute("role","progressbar"),r.lines(u,r.opts),!c){var l,f=0,p=(s.lines-1)*(1-s.direction)/2,h=s.fps,v=h/s.speed,g=(1-s.opacity)/(v*s.trail/100),m=v/s.lines;!function y(){f++;for(var e=0;e<s.lines;e++)l=Math.max(1-(f+(s.lines-e)*m)%v*g,s.opacity),r.opacity(u,e*s.direction+p,l,s);r.timeout=r.el&&setTimeout(y,~~(1e3/h))}()}return r},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,r){function a(t,n){return o(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*d+r.rotate)+"deg) translate("+r.radius+"px"+",0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var u,d=0,l=(r.lines-1)*(1-r.direction)/2;d<r.lines;d++)u=o(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:c&&n(r.opacity,r.trail,l+d*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(u,o(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(u,a(s(r.color,d),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var v=o(e("group"),{behavior:"url(#default#VML)"});return!i(v,"transform")&&v.adj?d():c=i(v,"animation"),u}),define("taoDelivery/controller/runtime/deliveryExecution",["jquery","iframeResizer","spin"],function(e,t,n){function i(t){0===e("#overlay").length&&(e('<div id="overlay"></div>').appendTo(document.body),e('<div id="loading"><div></div></div>').appendTo(document.body));var i={lines:11,length:21,width:8,radius:36,corners:1,rotate:0,direction:t===!0?-1:1,color:"#888",speed:1.5,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"};new n(i).spin(e("#loading > div").get(0))}function o(){setTimeout(function(){e("#loading").fadeOut(300,function(){e(this).remove(),e("#overlay").remove()})},300)}return{start:function(n){i();var r=e("#iframeDeliveryExec");e("#tools").css("height","auto");var a=n.serviceApi;a.onFinish(function(){e.ajax({url:n.finishDeliveryExecution,data:{deliveryExecution:n.deliveryExecution},type:"post",dataType:"json",success:function(e){window.location=e.destination}})}),e(document).on("loading",function(e,t){i(t)}).on("unloading",function(){o()}).on("shutdown-com",function(){e(document).off("heightchange"),r.off("load.eventHeight").off("load.cors")}),t.eventHeight(r),a.loadInto(r.get(0))}}}),function(){var e=document.getElementById("amd-loader").getAttribute("data-config");require([e],function(){require(["jquery"],function(e){e("ul li").mouseover(function(){e("a .actionsBox .button",this).addClass("buttonSelected")}),e("ul li").mouseleave(function(){e("a .actionsBox .button",this).removeClass("buttonSelected")})})})}(),define("taoDelivery/controller/runtime/index",function(){});